@if (showAlert) {
  <div
    class="position-fixed bottom-0 start-50 translate-middle-x mb-2"
    style="z-index:1050;width:90%;max-width:480px"
  >
    <div
      class="alert alert-{{alertType}} alert-dismissible fade show shadow-sm py-2 px-3 small"
      role="alert"
    >
      <i class="bi {{ alertType === 'success'
            ? 'bi-check-circle-fill'
            : 'bi-exclamation-triangle-fill' }} me-2"></i>
      <span class="me-3">{{ alertMessage }}</span>
      <button type="button" class="btn-close" (click)="hideAlert()"></button>
    </div>
  </div>
}

<!-- FILTER (compact) -->
<div class="filter-card compact bg-white shadow-sm rounded-3 p-2 p-md-3">
  <div class="row g-2 align-items-end">
    <!-- Perusahaan -->
    <div class="col-6 col-md-3">
      <label for="company" class="form-label text-muted mb-1 small">Perusahaan</label>
      <select id="company" class="form-select form-select-sm" [(ngModel)]="company" (change)="onFilterChange()">
        <option value="">Pilih Perusahaan</option>
        @for (c of companies; track c.value) {
          <option [value]="c.value">{{ c.name }}</option>
        }
      </select>
    </div>

    <!-- Kategori -->
    <div class="col-6 col-md-3">
      <label for="category" class="form-label text-muted mb-1 small">Kategori</label>
      <select id="category" class="form-select form-select-sm" [(ngModel)]="category" (change)="onFilterChange()">
        <option value="">Pilih Kategori</option>
        @for (k of categories; track k.value) {
          <option [value]="k.value">{{ k.name }}</option>
        }
      </select>
    </div>

    <!-- Tahun -->
    <div class="col-6 col-md-3">
      <label for="period" class="form-label text-muted mb-1 small">Tahun</label>
      <select id="period" class="form-select form-select-sm" [(ngModel)]="period" (change)="onFilterChange()">
        @for (p of periods; track p.value) {
          <option [value]="p.value">{{ p.name }}</option>
        }
      </select>
    </div>

    <!-- Tombol Cari -->
    <div class="col-6 col-md-3">
      <div class="d-grid d-md-flex justify-content-md-end">
        <button
          type="button"
          class="btn btn-primary btn-sm w-100 w-md-auto px-3"
          (click)="onSearchClick()"
          [disabled]="loading"
        >
          <i class="bi bi-search me-1"></i> Cari
        </button>
      </div>
    </div>
  </div>
</div>
